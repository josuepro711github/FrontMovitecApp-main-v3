{"ast":null,"code":"import Swal from 'sweetalert2';\nimport { Validators } from '@angular/forms';\nimport { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/usuario.service\";\nimport * as i2 from \"src/app/Services/auth.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nexport class AdminUsuariosAddComponent {\n  constructor(usuarioService, authService, fb) {\n    this.usuarioService = usuarioService;\n    this.authService = authService;\n    this.fb = fb;\n    this.usuarios = [];\n    this.nuevoUsuario = {\n      nombre: \"\",\n      apellidos: \"\",\n      direccion: \"\",\n      tipoDocumento: {\n        id: 1\n      },\n      documento: \"\",\n      estado: true,\n      nombreUsuario: \"\",\n      email: \"\",\n      telefono: \"\",\n      password: \"\",\n      roles: [\"user\"]\n    };\n  }\n\n  ngOnInit() {\n    this.form = this.fb.group({\n      nickname: ['', {\n        validators: [Validators.required],\n        asyncValidators: [nicknameCheck(this.usuarioService)],\n        updateOn: 'blur'\n      }]\n    });\n  }\n\n}\n\nAdminUsuariosAddComponent.ɵfac = function AdminUsuariosAddComponent_Factory(t) {\n  return new (t || AdminUsuariosAddComponent)(i0.ɵɵdirectiveInject(i1.UsuarioService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\n\nAdminUsuariosAddComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AdminUsuariosAddComponent,\n  selectors: [[\"app-admin-usuarios-add\"]],\n  decls: 40,\n  vars: 7,\n  consts: [[1, \"container\", \"py-2\"], [1, \"card\", \"bg-dark\", \"text-white\"], [1, \"card-header\"], [1, \"card-body\", \"px-3\", \"py-3\"], [3, \"formGroup\"], [1, \"form-group\", \"row\", \"mb-3\"], [1, \"col-sm-2\", \"col-form-label\"], [1, \"col-sm-6\"], [\"name\", \"nombre\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"usuario\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"formControlName\", \"ngModelChange\"], [1, \"alert\", \"alert-danger\"], [\"name\", \"contrase\\u00F1a\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"email\", \"type\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"row\", \"mb-3\", \"form_crear\"], [\"type\", \"submit\", \"value\", \"Crear cliente\", \"routerLink\", \"usuariosv2\", 1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"]],\n  template: function AdminUsuariosAddComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"h5\", 2);\n      i0.ɵɵtext(3, \"Formulario del cliente\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelementStart(5, \"form\", 4);\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵelementStart(7, \"label\", 6);\n      i0.ɵɵtext(8, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵelementStart(10, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function AdminUsuariosAddComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.nuevoUsuario.nombre = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 5);\n      i0.ɵɵelementStart(12, \"label\", 6);\n      i0.ɵɵtext(13, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 7);\n      i0.ɵɵelementStart(15, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function AdminUsuariosAddComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.nuevoUsuario.nombreUsuario = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 10);\n      i0.ɵɵelementStart(17, \"div\");\n      i0.ɵɵtext(18, \" Username es requerido \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 5);\n      i0.ɵɵelementStart(20, \"label\", 6);\n      i0.ɵɵtext(21, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 7);\n      i0.ɵɵelementStart(23, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function AdminUsuariosAddComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.nuevoUsuario.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 10);\n      i0.ɵɵelementStart(25, \"div\");\n      i0.ɵɵtext(26, \" Password es requerido \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 5);\n      i0.ɵɵelementStart(28, \"label\", 6);\n      i0.ɵɵtext(29, \"Correo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 7);\n      i0.ɵɵelementStart(31, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function AdminUsuariosAddComponent_Template_input_ngModelChange_31_listener($event) {\n        return ctx.nuevoUsuario.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 10);\n      i0.ɵɵelementStart(33, \"div\");\n      i0.ɵɵtext(34, \" Email es requerido \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\");\n      i0.ɵɵtext(36, \" Email debe tener un formato v\\u00E1lido \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 13);\n      i0.ɵɵelementStart(38, \"div\", 7);\n      i0.ɵɵelementStart(39, \"input\", 14);\n      i0.ɵɵlistener(\"click\", function AdminUsuariosAddComponent_Template_input_click_39_listener() {\n        return ctx.enviarNuevoUsuario();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.nuevoUsuario.nombre);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.nuevoUsuario.nombreUsuario)(\"formControlName\", ctx.nickname);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.nuevoUsuario.password);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.nuevoUsuario.email);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", !ctx.form.valid);\n    }\n  },\n  directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i3.FormControlName, i4.RouterLink],\n  styles: [\".form_label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\\r\\n    font-size: 1.1rem;\\r\\n}\\r\\n\\r\\n.form_crear[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\r\\n    font-size: 1.1rem;\\r\\n}\\r\\n\\r\\n.alert[_ngcontent-%COMP%]{\\r\\n    padding: 0.1rem 0.1rem;\\r\\n    margin-bottom: 0rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLXVzdWFyaW9zLWFkZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2QiIsImZpbGUiOiJhZG1pbi11c3Vhcmlvcy1hZGQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtX2xhYmVsIGxhYmVse1xyXG4gICAgZm9udC1zaXplOiAxLjFyZW07XHJcbn1cclxuXHJcbi5mb3JtX2NyZWFyIGlucHV0e1xyXG4gICAgZm9udC1zaXplOiAxLjFyZW07XHJcbn1cclxuXHJcbi5hbGVydHtcclxuICAgIHBhZGRpbmc6IDAuMXJlbSAwLjFyZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwcmVtO1xyXG59Il19 */\"]\n});\nexport function nicknameCheck(api) {\n  return control => {\n    return api.checkUsername(control.value).pipe(map(({\n      result\n    }) => result ? {\n      nicknameExists: true\n    } : null));\n  };\n}\n/*\r\nvalidarEmail(control: AbstractControl){\r\n  return this.usuarioService.checkEmail(control.value).subscribe(res=>{\r\n    return res? null: {emailTaken: true}\r\n  });\r\n}\r\n*/\n\ncargarUsuarios();\n{\n  setTimeout(() => {\n    this.usuarioService.getAllUsuario().subscribe(data => {\n      this.usuarios = data;\n    });\n  }, 20);\n}\nenviarNuevoUsuario();\n{\n  this.authService.nuevo(this.nuevoUsuario).subscribe(data => {\n    this.cargarUsuarios();\n    this.nuevoUsuario = {\n      nombre: \"\",\n      apellidos: \"\",\n      direccion: \"\",\n      tipoDocumento: {\n        id: 1\n      },\n      documento: \"\",\n      estado: true,\n      nombreUsuario: \"\",\n      email: \"\",\n      telefono: \"\",\n      password: \"\",\n      roles: [\"user\"]\n    };\n  }, err => {});\n  Swal('Nuevo Usuario', `Usuario ${this.nuevoUsuario.nombre} creado con éxito!`, 'success');\n}","map":{"version":3,"sources":["T:/5TO CICLO/PROYECTO_MOVITEC/FrontMovitecApp-main-v2/src/app/Pages/admin-users/admin-usuarios-add/admin-usuarios-add.component.ts"],"names":["Swal","Validators","map","i0","i1","i2","i3","i4","AdminUsuariosAddComponent","constructor","usuarioService","authService","fb","usuarios","nuevoUsuario","nombre","apellidos","direccion","tipoDocumento","id","documento","estado","nombreUsuario","email","telefono","password","roles","ngOnInit","form","group","nickname","validators","required","asyncValidators","nicknameCheck","updateOn","ɵfac","AdminUsuariosAddComponent_Factory","t","ɵɵdirectiveInject","UsuarioService","AuthService","FormBuilder","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AdminUsuariosAddComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AdminUsuariosAddComponent_Template_input_ngModelChange_10_listener","$event","AdminUsuariosAddComponent_Template_input_ngModelChange_15_listener","AdminUsuariosAddComponent_Template_input_ngModelChange_23_listener","AdminUsuariosAddComponent_Template_input_ngModelChange_31_listener","AdminUsuariosAddComponent_Template_input_click_39_listener","enviarNuevoUsuario","ɵɵadvance","ɵɵproperty","valid","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","NgModel","FormControlName","RouterLink","styles","api","control","checkUsername","value","pipe","result","nicknameExists","cargarUsuarios","setTimeout","getAllUsuario","subscribe","data","nuevo","err"],"mappings":"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","sourcesContent":["import Swal from 'sweetalert2';\r\nimport { Validators } from '@angular/forms';\r\nimport { map } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/Services/usuario.service\";\r\nimport * as i2 from \"src/app/Services/auth.service\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"@angular/router\";\r\nexport class AdminUsuariosAddComponent {\r\n    constructor(usuarioService, authService, fb) {\r\n        this.usuarioService = usuarioService;\r\n        this.authService = authService;\r\n        this.fb = fb;\r\n        this.usuarios = [];\r\n        this.nuevoUsuario = {\r\n            nombre: \"\",\r\n            apellidos: \"\",\r\n            direccion: \"\",\r\n            tipoDocumento: {\r\n                id: 1\r\n            },\r\n            documento: \"\",\r\n            estado: true,\r\n            nombreUsuario: \"\",\r\n            email: \"\",\r\n            telefono: \"\",\r\n            password: \"\",\r\n            roles: [\"user\"]\r\n        };\r\n    }\r\n    ngOnInit() {\r\n        this.form = this.fb.group({\r\n            nickname: ['', {\r\n                    validators: [\r\n                        Validators.required\r\n                    ],\r\n                    asyncValidators: [\r\n                        nicknameCheck(this.usuarioService)\r\n                    ],\r\n                    updateOn: 'blur'\r\n                }]\r\n        });\r\n    }\r\n}\r\nAdminUsuariosAddComponent.ɵfac = function AdminUsuariosAddComponent_Factory(t) { return new (t || AdminUsuariosAddComponent)(i0.ɵɵdirectiveInject(i1.UsuarioService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.FormBuilder)); };\r\nAdminUsuariosAddComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AdminUsuariosAddComponent, selectors: [[\"app-admin-usuarios-add\"]], decls: 40, vars: 7, consts: [[1, \"container\", \"py-2\"], [1, \"card\", \"bg-dark\", \"text-white\"], [1, \"card-header\"], [1, \"card-body\", \"px-3\", \"py-3\"], [3, \"formGroup\"], [1, \"form-group\", \"row\", \"mb-3\"], [1, \"col-sm-2\", \"col-form-label\"], [1, \"col-sm-6\"], [\"name\", \"nombre\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"usuario\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"formControlName\", \"ngModelChange\"], [1, \"alert\", \"alert-danger\"], [\"name\", \"contrase\\u00F1a\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"email\", \"type\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"row\", \"mb-3\", \"form_crear\"], [\"type\", \"submit\", \"value\", \"Crear cliente\", \"routerLink\", \"usuariosv2\", 1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"]], template: function AdminUsuariosAddComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"h5\", 2);\r\n        i0.ɵɵtext(3, \"Formulario del cliente\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 3);\r\n        i0.ɵɵelementStart(5, \"form\", 4);\r\n        i0.ɵɵelementStart(6, \"div\", 5);\r\n        i0.ɵɵelementStart(7, \"label\", 6);\r\n        i0.ɵɵtext(8, \"Nombre\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 7);\r\n        i0.ɵɵelementStart(10, \"input\", 8);\r\n        i0.ɵɵlistener(\"ngModelChange\", function AdminUsuariosAddComponent_Template_input_ngModelChange_10_listener($event) { return ctx.nuevoUsuario.nombre = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"div\", 5);\r\n        i0.ɵɵelementStart(12, \"label\", 6);\r\n        i0.ɵɵtext(13, \"Username\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"div\", 7);\r\n        i0.ɵɵelementStart(15, \"input\", 9);\r\n        i0.ɵɵlistener(\"ngModelChange\", function AdminUsuariosAddComponent_Template_input_ngModelChange_15_listener($event) { return ctx.nuevoUsuario.nombreUsuario = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"div\", 10);\r\n        i0.ɵɵelementStart(17, \"div\");\r\n        i0.ɵɵtext(18, \" Username es requerido \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"div\", 5);\r\n        i0.ɵɵelementStart(20, \"label\", 6);\r\n        i0.ɵɵtext(21, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"div\", 7);\r\n        i0.ɵɵelementStart(23, \"input\", 11);\r\n        i0.ɵɵlistener(\"ngModelChange\", function AdminUsuariosAddComponent_Template_input_ngModelChange_23_listener($event) { return ctx.nuevoUsuario.password = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"div\", 10);\r\n        i0.ɵɵelementStart(25, \"div\");\r\n        i0.ɵɵtext(26, \" Password es requerido \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(27, \"div\", 5);\r\n        i0.ɵɵelementStart(28, \"label\", 6);\r\n        i0.ɵɵtext(29, \"Correo\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(30, \"div\", 7);\r\n        i0.ɵɵelementStart(31, \"input\", 12);\r\n        i0.ɵɵlistener(\"ngModelChange\", function AdminUsuariosAddComponent_Template_input_ngModelChange_31_listener($event) { return ctx.nuevoUsuario.email = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(32, \"div\", 10);\r\n        i0.ɵɵelementStart(33, \"div\");\r\n        i0.ɵɵtext(34, \" Email es requerido \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(35, \"div\");\r\n        i0.ɵɵtext(36, \" Email debe tener un formato v\\u00E1lido \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(37, \"div\", 13);\r\n        i0.ɵɵelementStart(38, \"div\", 7);\r\n        i0.ɵɵelementStart(39, \"input\", 14);\r\n        i0.ɵɵlistener(\"click\", function AdminUsuariosAddComponent_Template_input_click_39_listener() { return ctx.enviarNuevoUsuario(); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.nuevoUsuario.nombre);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.nuevoUsuario.nombreUsuario)(\"formControlName\", ctx.nickname);\r\n        i0.ɵɵadvance(8);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.nuevoUsuario.password);\r\n        i0.ɵɵadvance(8);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.nuevoUsuario.email);\r\n        i0.ɵɵadvance(8);\r\n        i0.ɵɵproperty(\"disabled\", !ctx.form.valid);\r\n    } }, directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i3.FormControlName, i4.RouterLink], styles: [\".form_label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\\r\\n    font-size: 1.1rem;\\r\\n}\\r\\n\\r\\n.form_crear[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\r\\n    font-size: 1.1rem;\\r\\n}\\r\\n\\r\\n.alert[_ngcontent-%COMP%]{\\r\\n    padding: 0.1rem 0.1rem;\\r\\n    margin-bottom: 0rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLXVzdWFyaW9zLWFkZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2QiIsImZpbGUiOiJhZG1pbi11c3Vhcmlvcy1hZGQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtX2xhYmVsIGxhYmVse1xyXG4gICAgZm9udC1zaXplOiAxLjFyZW07XHJcbn1cclxuXHJcbi5mb3JtX2NyZWFyIGlucHV0e1xyXG4gICAgZm9udC1zaXplOiAxLjFyZW07XHJcbn1cclxuXHJcbi5hbGVydHtcclxuICAgIHBhZGRpbmc6IDAuMXJlbSAwLjFyZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwcmVtO1xyXG59Il19 */\"] });\r\nexport function nicknameCheck(api) {\r\n    return (control) => {\r\n        return api.checkUsername(control.value)\r\n            .pipe(map(({ result }) => (result) ? { nicknameExists: true } : null));\r\n    };\r\n}\r\n/*\r\nvalidarEmail(control: AbstractControl){\r\n  return this.usuarioService.checkEmail(control.value).subscribe(res=>{\r\n    return res? null: {emailTaken: true}\r\n  });\r\n}\r\n*/\r\ncargarUsuarios();\r\n{\r\n    setTimeout(() => {\r\n        this.usuarioService.getAllUsuario().subscribe(data => {\r\n            this.usuarios = data;\r\n        });\r\n    }, 20);\r\n}\r\nenviarNuevoUsuario();\r\n{\r\n    this.authService.nuevo(this.nuevoUsuario).subscribe(data => {\r\n        this.cargarUsuarios();\r\n        this.nuevoUsuario = {\r\n            nombre: \"\",\r\n            apellidos: \"\",\r\n            direccion: \"\",\r\n            tipoDocumento: {\r\n                id: 1\r\n            },\r\n            documento: \"\",\r\n            estado: true,\r\n            nombreUsuario: \"\",\r\n            email: \"\",\r\n            telefono: \"\",\r\n            password: \"\",\r\n            roles: [\"user\"]\r\n        };\r\n    }, err => {\r\n    });\r\n    Swal('Nuevo Usuario', `Usuario ${this.nuevoUsuario.nombre} creado con éxito!`, 'success');\r\n}\r\n"]},"metadata":{},"sourceType":"module"}